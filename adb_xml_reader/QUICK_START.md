# ADB XML Reader - å¿«é€Ÿä½¿ç”¨æŒ‡å—

## âœ¨ æˆåŠŸåˆ›å»ºäº†ç‹¬ç«‹çš„ ADB XML è¯»å–å·¥å…·ï¼

### ğŸ¯ å·¥å…·ç‰¹ç‚¹
- âœ… ä½¿ç”¨ Rust è¯­è¨€ç¼–å†™ï¼Œæ€§èƒ½ä¼˜ç§€
- âœ… ä¸“é—¨é…ç½®äº†ä½ çš„é›·ç”µæ¨¡æ‹Ÿå™¨ ADB è·¯å¾„
- âœ… æˆåŠŸæ£€æµ‹åˆ° 4 ä¸ªè™šæ‹Ÿæœºè®¾å¤‡
- âœ… èƒ½å¤Ÿè¯»å–å’Œè§£æ UI XML ä¿¡æ¯
- âœ… ç”Ÿæˆ JSON æ ¼å¼çš„ç»“æ„åŒ–æ•°æ®

### ğŸš€ åŸºç¡€ä½¿ç”¨å‘½ä»¤

```bash
# 1. åŸºæœ¬ç”¨æ³• - è¯»å–é»˜è®¤è®¾å¤‡çš„UIä¿¡æ¯
./target/release/adb_xml_reader.exe

# 2. æŒ‡å®šè®¾å¤‡ - ä½¿ç”¨ç‰¹å®šè®¾å¤‡ID
./target/release/adb_xml_reader.exe --device "127.0.0.1:5555"

# 3. ä¿å­˜åˆ°æ–‡ä»¶ - è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶å
./target/release/adb_xml_reader.exe --device "127.0.0.1:5555" --output my_app_ui.json --screenshot my_app_screen.png

# 4. æœç´¢åŠŸèƒ½ - æŸ¥æ‰¾ç‰¹å®šæ–‡æœ¬å…ƒç´ 
./target/release/adb_xml_reader.exe --device "127.0.0.1:5555" --search "å…³æ³¨"
./target/release/adb_xml_reader.exe --device "127.0.0.1:5555" --search "å‘å¸ƒ"
./target/release/adb_xml_reader.exe --device "127.0.0.1:5555" --search "ç‚¹èµ"

# 5. ç›´æ¥æŸ¥çœ‹ - åœ¨ç»ˆç«¯æ˜¾ç¤ºUIç»“æ„
./target/release/adb_xml_reader.exe --device "127.0.0.1:5555" --print
```

### ğŸ“Š å·²éªŒè¯çš„åŠŸèƒ½

æˆ‘ä»¬å·²ç»æˆåŠŸæµ‹è¯•äº†ä»¥ä¸‹åŠŸèƒ½ï¼š

1. **è®¾å¤‡æ£€æµ‹** âœ…
   - æ£€æµ‹åˆ° 4 ä¸ªè®¾å¤‡ï¼š
     - 127.0.0.1:5555
     - 127.0.0.1:5557
     - emulator-5554
     - emulator-5556

2. **UIä¿¡æ¯è¯»å–** âœ…
   - æˆåŠŸè¯»å–å°çº¢ä¹¦åº”ç”¨çš„å®Œæ•´UIç»“æ„
   - å‘ç° 147 ä¸ªUIå…ƒç´ 
   - å…¶ä¸­ 36 ä¸ªå¯ç‚¹å‡»å…ƒç´ 
   - 26 ä¸ªåŒ…å«æ–‡æœ¬çš„å…ƒç´ 

3. **æ–‡ä»¶è¾“å‡º** âœ…
   - JSONæ–‡ä»¶ï¼š204.8 KB (å®Œæ•´ç»“æ„åŒ–æ•°æ®)
   - æˆªå›¾æ–‡ä»¶ï¼š1547.6 KB (PNGæ ¼å¼)

4. **æœç´¢åŠŸèƒ½** âœ…
   - æˆåŠŸæœç´¢åˆ°"å…³æ³¨"ç›¸å…³å…ƒç´ 
   - æ‰¾åˆ°äº†å¯ç‚¹å‡»çš„å…³æ³¨æŒ‰é’®ä½ç½®: [405,52][495,108]

### ğŸ” å®é™…åº”ç”¨åœºæ™¯

#### åœºæ™¯1: åˆ†æå°çº¢ä¹¦ç•Œé¢ç»“æ„
```bash
./target/release/adb_xml_reader.exe --device "127.0.0.1:5555" --output xiaohongshu_ui.json --screenshot xiaohongshu_screen.png
```

#### åœºæ™¯2: æŸ¥æ‰¾å…³æ³¨æŒ‰é’®
```bash
./target/release/adb_xml_reader.exe --device "127.0.0.1:5555" --search "å…³æ³¨"
```
è¿”å›ç»“æœæ˜¾ç¤ºå…³æ³¨æŒ‰é’®ä½ç½®ï¼šbounds: [405,52][495,108]ï¼Œå¯ç‚¹å‡»: true

#### åœºæ™¯3: æ‰¹é‡åˆ†æå¤šä¸ªè®¾å¤‡
```bash
# åˆ†æè®¾å¤‡1
./target/release/adb_xml_reader.exe --device "127.0.0.1:5555" --output device1_ui.json

# åˆ†æè®¾å¤‡2
./target/release/adb_xml_reader.exe --device "127.0.0.1:5557" --output device2_ui.json

# åˆ†æè®¾å¤‡3
./target/release/adb_xml_reader.exe --device "emulator-5554" --output device3_ui.json
```

### ğŸ’¡ å¼€å‘å»ºè®®

1. **è‡ªåŠ¨åŒ–è„šæœ¬å¼€å‘**
   - ä½¿ç”¨JSONæ•°æ®ä¸­çš„åæ ‡ä¿¡æ¯å®ç°è‡ªåŠ¨ç‚¹å‡»
   - åˆ©ç”¨å…ƒç´ çš„clickableå±æ€§ç¡®å®šå¯æ“ä½œæ€§
   - é€šè¿‡resource_idå®šä½ç‰¹å®šæ§ä»¶

2. **UIç›‘æ§**
   - å®šæœŸæ‰§è¡Œå·¥å…·ç›‘æ§ç•Œé¢å˜åŒ–
   - æ¯”è¾ƒä¸åŒæ—¶é—´çš„JSONæ•°æ®å‘ç°å·®å¼‚
   - ç”¨äºæ£€æµ‹åº”ç”¨ç•Œé¢æ›´æ–°

3. **æ‰¹é‡æ“ä½œ**
   - ç¼–å†™è„šæœ¬éå†å¤šä¸ªè®¾å¤‡
   - ç»Ÿä¸€åˆ†æç›¸åŒåº”ç”¨åœ¨ä¸åŒè®¾å¤‡ä¸Šçš„è¡¨ç°
   - å®ç°å¤šè®¾å¤‡å¹¶è¡Œæ“ä½œ

### ğŸ› ï¸ å·¥å…·æ–‡ä»¶è¯´æ˜

- `src/main.rs` - ä¸»ç¨‹åºå…¥å£
- `src/lib.rs` - æ ¸å¿ƒåŠŸèƒ½åº“ (å·²é…ç½®ä½ çš„ADBè·¯å¾„)
- `Cargo.toml` - é¡¹ç›®é…ç½®æ–‡ä»¶
- `target/release/adb_xml_reader.exe` - ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶
- `USAGE_GUIDE.md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—

### ğŸ”§ æŠ€æœ¯ç»†èŠ‚

- **ç¼–ç¨‹è¯­è¨€**: Rust (æ€§èƒ½ä¼˜å¼‚ï¼Œå†…å­˜å®‰å…¨)
- **ADBè·¯å¾„**: `D:\leidian\LDPlayer9\adb.exe` (å·²ç¡¬ç¼–ç )
- **æ”¯æŒæ ¼å¼**: JSONè¾“å‡ºã€PNGæˆªå›¾
- **æœç´¢åŠŸèƒ½**: æ”¯æŒæ–‡æœ¬å’Œèµ„æºIDæœç´¢
- **å¤šè®¾å¤‡**: è‡ªåŠ¨æ£€æµ‹å¹¶æ”¯æŒå¤šè®¾å¤‡æ“ä½œ

è¿™ä¸ªå·¥å…·ç°åœ¨å¯ä»¥å®Œå…¨ç‹¬ç«‹è¿è¡Œï¼Œä¸ä¼šå½±å“ä½ çš„ç°æœ‰é¡¹ç›®ï¼Œå¯ä»¥ç”¨äºåˆ†æä»»ä½•Androidåº”ç”¨çš„UIç»“æ„ï¼
