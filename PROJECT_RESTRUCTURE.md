# Flow Farm é¡¹ç›®é‡æ„è¯´æ˜

## é‡æ„æ¦‚è¿°

åŸFlow Farmå•ä½“é¡¹ç›®å·²é‡æ„ä¸ºä¸‰ä¸ªç‹¬ç«‹æ¨¡å—çš„ä¼ä¸šçº§æ¶æ„ï¼š

### ğŸ—ï¸ æ–°æ¶æ„æ¨¡å—

#### 1. ğŸ–¥ï¸ æœåŠ¡å™¨åç«¯ (`server-backend/`)
**åŠŸèƒ½**: ç®¡ç†å‘˜ç”¨äºè®°å½•å’Œç®¡ç†å‘˜å·¥å·¥ä½œä¿¡æ¯çš„åç«¯æœåŠ¡
- **æŠ€æœ¯æ ˆ**: FastAPI + SQLAlchemy + PostgreSQL
- **ä¸»è¦åŠŸèƒ½**:
  - å‘˜å·¥è´¦å·ç®¡ç†å’Œæˆæƒ
  - å·¥ä½œé‡KPIæ•°æ®è®°å½•å’Œç»Ÿè®¡
  - è®¾å¤‡ä½¿ç”¨æƒ…å†µç›‘æ§
  - RESTful APIæœåŠ¡
- **è¿è¡Œç¯å¢ƒ**: æœåŠ¡å™¨ (Linux/Windows)
- **ç«¯å£**: 8000

#### 2. ğŸŒ æœåŠ¡å™¨å‰ç«¯ (`server-frontend/`)
**åŠŸèƒ½**: ç®¡ç†å‘˜ç”¨äºå±•ç¤ºå‘˜å·¥å·¥ä½œä¿¡æ¯çš„Webç•Œé¢
- **æŠ€æœ¯æ ˆ**: React.js + TypeScript + Ant Design
- **ä¸»è¦åŠŸèƒ½**:
  - ç®¡ç†å‘˜ç™»å½•å’Œæƒé™æ§åˆ¶
  - å‘˜å·¥å·¥ä½œé‡ä»ªè¡¨ç›˜
  - KPIæ•°æ®å¯è§†åŒ–
  - è®¾å¤‡çŠ¶æ€ç›‘æ§é¢æ¿
- **è¿è¡Œç¯å¢ƒ**: ä¸åç«¯åŒæœåŠ¡å™¨
- **ç«¯å£**: 3000 (å¼€å‘) / 80 (ç”Ÿäº§)

#### 3. ğŸ’» å‘˜å·¥å®¢æˆ·ç«¯ (`employee-client/`)
**åŠŸèƒ½**: å‘˜å·¥å·¥ä½œç¨‹åºï¼Œéœ€è¦ç®¡ç†å‘˜æˆæƒè´¦å·
- **æŠ€æœ¯æ ˆ**: Python + tkinter + ADB
- **ä¸»è¦åŠŸèƒ½**:
  - å‘˜å·¥ç™»å½•è®¤è¯ (JWT Token)
  - è®¾å¤‡è‡ªåŠ¨åŒ–æ“ä½œ
  - å·¥ä½œé‡å®æ—¶ä¸Šä¼ 
  - ç¦»çº¿å·¥ä½œæ”¯æŒ
- **è¿è¡Œç¯å¢ƒ**: å‘˜å·¥ç”µè„‘ (Windows)

### ğŸ”„ æ•°æ®æµæ¶æ„

```
[å‘˜å·¥å®¢æˆ·ç«¯] --HTTPS API--> [æœåŠ¡å™¨åç«¯] <--API--> [æœåŠ¡å™¨å‰ç«¯]
     â†“                           â†“                      â†‘
[è®¾å¤‡æ“ä½œ]                  [æ•°æ®åº“å­˜å‚¨]            [ç®¡ç†å‘˜æŸ¥çœ‹]
     â†“                           â†“                      â†‘
[KPIä¸Šä¼ ] -----------------> [ç»Ÿè®¡åˆ†æ] -----------> [å¯è§†åŒ–å±•ç¤º]
```

### ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

#### 1. åˆå§‹åŒ–æ•´ä¸ªé¡¹ç›®
```bash
# VS Codeä¸­è¿è¡Œä»»åŠ¡: "ğŸ—ï¸ åˆå§‹åŒ–æ•´ä¸ªé¡¹ç›®"
# æˆ–æ‰‹åŠ¨æ‰§è¡Œ:
cd server-backend && python -m venv venv && pip install -r requirements.txt
cd ../server-frontend && npm install
cd ../employee-client && python -m venv venv && pip install -r requirements.txt
```

#### 2. å¯åŠ¨æœåŠ¡å™¨åç«¯
```bash
# VS Codeä»»åŠ¡: "ğŸš€ å¯åŠ¨æœåŠ¡å™¨åç«¯"
cd server-backend
./venv/Scripts/python.exe -m uvicorn app.main:app --reload --port 8000
```

#### 3. å¯åŠ¨æœåŠ¡å™¨å‰ç«¯
```bash
# VS Codeä»»åŠ¡: "ğŸŒ å¯åŠ¨æœåŠ¡å™¨å‰ç«¯å¼€å‘"
cd server-frontend
npm run dev
```

#### 4. å¯åŠ¨å‘˜å·¥å®¢æˆ·ç«¯
```bash
# VS Codeä»»åŠ¡: "ğŸ’» å¯åŠ¨å‘˜å·¥å®¢æˆ·ç«¯GUI"
cd employee-client
./venv/Scripts/python.exe src/main.py --mode gui --debug
```

### ğŸ“ å·¥ä½œåŒºæ–‡ä»¶å¤¹è¯´æ˜

- **ğŸ¢ Flow Farm - å®Œæ•´é¡¹ç›®**: é¡¹ç›®æ ¹ç›®å½•ï¼ŒåŒ…å«å…¨å±€é…ç½®å’ŒåŸæœ‰æ–‡ä»¶
- **ğŸ–¥ï¸ æœåŠ¡å™¨åç«¯ (ç®¡ç†å‘˜)**: åç«¯APIæœåŠ¡ï¼Œç‹¬ç«‹çš„Pythonç¯å¢ƒ
- **ğŸŒ æœåŠ¡å™¨å‰ç«¯ (ç®¡ç†å‘˜)**: å‰ç«¯Webåº”ç”¨ï¼Œç‹¬ç«‹çš„Node.jsç¯å¢ƒ
- **ğŸ’» å‘˜å·¥å®¢æˆ·ç«¯**: æ¡Œé¢å®¢æˆ·ç«¯ç¨‹åºï¼Œç‹¬ç«‹çš„Pythonç¯å¢ƒ

### ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®

æ¯ä¸ªæ¨¡å—éƒ½æœ‰ç‹¬ç«‹çš„è™šæ‹Ÿç¯å¢ƒå’Œä¾èµ–ç®¡ç†ï¼š

- `server-backend/venv/` - åç«¯Pythonç¯å¢ƒ
- `server-frontend/node_modules/` - å‰ç«¯Node.jsç¯å¢ƒ
- `employee-client/venv/` - å®¢æˆ·ç«¯Pythonç¯å¢ƒ
- `venv/` - åŸé¡¹ç›®å…¼å®¹ç¯å¢ƒ

### ğŸ§ª æµ‹è¯•ç­–ç•¥

- **åç«¯æµ‹è¯•**: `pytest server-backend/tests/`
- **å‰ç«¯æµ‹è¯•**: `npm test` (åœ¨server-frontendç›®å½•)
- **å®¢æˆ·ç«¯æµ‹è¯•**: `pytest employee-client/tests/`
- **é›†æˆæµ‹è¯•**: è·¨æ¨¡å—APIæµ‹è¯•

### ğŸ” å®‰å…¨å’Œæƒé™

1. **æœåŠ¡å™¨ç«¯**: ç®¡ç†å‘˜æ‹¥æœ‰å®Œå…¨æ§åˆ¶æƒ
   - åˆ›å»ºå’Œç®¡ç†å‘˜å·¥è´¦å·
   - æŸ¥çœ‹æ‰€æœ‰å·¥ä½œæ•°æ®
   - è®¾ç½®KPIç›®æ ‡å’Œæƒé™

2. **å®¢æˆ·ç«¯**: å‘˜å·¥éœ€è¦æˆæƒè´¦å·
   - JWT Tokenè®¤è¯
   - åªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ®
   - å·¥ä½œé‡è‡ªåŠ¨ä¸Šä¼ åˆ°æœåŠ¡å™¨

### ğŸ“Š æ•°æ®åº“è®¾è®¡

ä¸»è¦æ•°æ®è¡¨ï¼š
- `users` - ç”¨æˆ·è´¦å·ä¿¡æ¯
- `kpi_records` - KPIå·¥ä½œé‡è®°å½•
- `devices` - è®¾å¤‡ä¿¡æ¯
- `work_sessions` - å·¥ä½œä¼šè¯
- `platforms` - å¹³å°æ“ä½œè®°å½•

### ğŸš€ éƒ¨ç½²å»ºè®®

#### å¼€å‘ç¯å¢ƒ
- æœåŠ¡å™¨åç«¯: æœ¬åœ°è¿è¡Œ (localhost:8000)
- æœåŠ¡å™¨å‰ç«¯: æœ¬åœ°å¼€å‘æœåŠ¡å™¨ (localhost:3000)
- å‘˜å·¥å®¢æˆ·ç«¯: å¼€å‘æœºå™¨è¿è¡Œ

#### ç”Ÿäº§ç¯å¢ƒ
- æœåŠ¡å™¨: Dockerå®¹å™¨ + Nginxåå‘ä»£ç†
- å®¢æˆ·ç«¯: PyInstalleræ‰“åŒ…çš„exeæ–‡ä»¶
- æ•°æ®åº“: PostgreSQLæˆ–MySQL

### ğŸ”„ è¿ç§»ç°æœ‰ä»£ç 

åŸæœ‰ä»£ç ä½ç½®æ˜ å°„ï¼š
- `src/core/` â†’ `server-backend/app/` + `employee-client/src/automation/`
- `src/gui/` â†’ `employee-client/src/gui/` + `server-frontend/src/`
- `src/auth/` â†’ `server-backend/app/auth/` + `employee-client/src/auth/`
- `src/platforms/` â†’ `employee-client/src/automation/platforms/`

### ğŸ’¡ å¼€å‘å»ºè®®

1. **å¹¶è¡Œå¼€å‘**: ä¸‰ä¸ªæ¨¡å—å¯ä»¥ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•
2. **APIä¼˜å…ˆ**: å…ˆå®šä¹‰APIæ¥å£ï¼Œå†å®ç°å‰åç«¯
3. **æµ‹è¯•é©±åŠ¨**: æ¯ä¸ªæ¨¡å—éƒ½è¦æœ‰å®Œæ•´çš„æµ‹è¯•è¦†ç›–
4. **æ–‡æ¡£åŒæ­¥**: åŠæ—¶æ›´æ–°å„æ¨¡å—çš„READMEæ–‡æ¡£
5. **ç‰ˆæœ¬æ§åˆ¶**: ä½¿ç”¨Gitåˆ†æ”¯ç®¡ç†ä¸åŒæ¨¡å—çš„å¼€å‘

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç½‘ç»œä¾èµ–**: å‘˜å·¥å®¢æˆ·ç«¯éœ€è¦ç½‘ç»œè¿æ¥æœåŠ¡å™¨
2. **æƒé™ç®¡ç†**: ä¸¥æ ¼æ§åˆ¶å‘˜å·¥è´¦å·çš„æƒé™èŒƒå›´
3. **æ•°æ®å®‰å…¨**: æ•æ„Ÿä¿¡æ¯åŠ å¯†å­˜å‚¨å’Œä¼ è¾“
4. **æ€§èƒ½ç›‘æ§**: ç›‘æ§æœåŠ¡å™¨è´Ÿè½½å’Œå®¢æˆ·ç«¯æ€§èƒ½
5. **å¤‡ä»½ç­–ç•¥**: å®šæœŸå¤‡ä»½æ•°æ®åº“å’Œé…ç½®æ–‡ä»¶
